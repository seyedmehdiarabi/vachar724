!function(e){e.fn.lazyload=function(o){var t={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};o&&e.extend(t,o);var n=this;return"scroll"==t.event&&e(t.container).bind("scroll",function(o){var i=0;n.each(function(){if(e.abovethetop(this,t)||e.leftofbegin(this,t));else if(e.belowthefold(this,t)||e.rightoffold(this,t)){if(i++>t.failurelimit)return!1}else e(this).trigger("appear")});var r=e.grep(n,function(e){return!e.loaded});n=e(r)}),this.each(function(){var o=this;o.loaded=!1,e(o).one("appear",function(){this.loaded||e("<img />").bind("load",function(){e(o).hide().attr("src",e(o).data("original"))[t.effect](t.effectspeed),o.loaded=!0}).attr("src",e(o).data("original"))}),"scroll"!=t.event&&e(o).bind(t.event,function(t){o.loaded||e(o).trigger("appear")})}),e(t.container).trigger(t.event),this},e.belowthefold=function(o,t){if(void 0===t.container||t.container===window)var n=e(window).height()+e(window).scrollTop();else var n=e(t.container).offset().top+e(t.container).height();return n<=e(o).offset().top-t.threshold},e.rightoffold=function(o,t){if(void 0===t.container||t.container===window)var n=e(window).width()+e(window).scrollLeft();else var n=e(t.container).offset().left+e(t.container).width();return n<=e(o).offset().left-t.threshold},e.abovethetop=function(o,t){if(void 0===t.container||t.container===window)var n=e(window).scrollTop();else var n=e(t.container).offset().top;return n>=e(o).offset().top+t.threshold+e(o).height()},e.leftofbegin=function(o,t){if(void 0===t.container||t.container===window)var n=e(window).scrollLeft();else var n=e(t.container).offset().left;return n>=e(o).offset().left+t.threshold+e(o).width()},e.extend(e.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})}(jQuery);